<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dragon Fantasy</title>
  <meta name="author" content="Royce Lu (fruitfoxlu@gmail.com)" />
  <meta name="license" content="FreeBSD (BSD 2-Clause)" />
  <link rel="stylesheet" href="style.css?v=108" />
</head>
<body>
  <div id="ui">
    <div class="titleRow">
      <div class="title">Dragon Fantasy</div>
      <div class="subtitle" id="subtitle">Survive the horde. Grow your legend.</div>
      <div class="build" id="build">v108</div>
    </div>

    <div class="row">
      <div class="hpWrap"><strong>HP</strong>: <span id="hp">-</span>
        <div class="hpBar"><div id="hpFill" class="hpFill"></div></div>
      </div>
      <div><strong>LV</strong>: <span id="level">1</span> (<span id="xp">0</span>/<span id="xpNeed">0</span>)</div>
      <div><strong>Kills</strong>: <span id="kills">0</span></div>
      <div><strong>Time</strong>: <span id="time">0:00</span></div>
      <div id="awardLine" class="awardLine"></div>
      <button id="sfxBtn" class="miniBtn" type="button" title="Toggle SFX">SFX: ON</button>
      <button id="langBtn" class="miniBtn" type="button" title="Language">中文</button>
    </div>

    <!-- Controls are shown on start screen only; keep top HUD clean. -->

    <div class="row small" id="hudInline" aria-hidden="true">
      <div class="hudInlineCol">
        <div class="hudInlineTitle">Passives</div>
        <div id="hudPassives" class="hudList"></div>
      </div>
      <div class="hudInlineCol">
        <div class="hudInlineTitle">Weapons</div>
        <div id="hudWeapons" class="hudList"></div>
      </div>
      <div class="hudInlineCol">
        <div class="hudInlineTitle">Magic <span id="hudChestHint" class="hudMini"></span></div>
        <div id="hudMagic" class="hudList"></div>
      </div>
    </div>
  </div>

  <canvas id="game" width="960" height="540"></canvas>

  <div id="start" role="dialog" aria-modal="true" aria-label="Start game">
    <div class="card">
      <h1 class="hero">Dragon Fantasy</h1>
      <div class="heroSub" id="startSub">在黑暗中撐住，升級你的武器與能力。</div>
      <div class="lore" id="lore"><span class="byline" id="byline">By Royce Lu · fruitfoxlu@gmail.com</span><br/>在「龍焰王朝」崩壞後，死靈潮與黑霜詛咒吞沒大地。你是最後的流浪勇者，踏入被遺棄的草原遺跡——每一枚靈魂、每一個寶箱，都可能是逆轉命運的禁術。</div>
      <ul class="bullets">
        <li id="liMove"><strong>WASD/方向鍵</strong> 移動</li>
        <li id="liWand"><strong>Wand</strong> 自動瞄準最近敵人</li>
        <li id="liBow"><strong>Bow</strong> 朝前方射（依角色面向；升級解鎖）</li>
        <li id="liPause"><strong>P</strong> 暫停</li>
      </ul>
      <button id="startBtn" class="btn">Start Adventure</button>
      <div class="hint" id="startHint">快捷鍵：Enter / Space</div>
    </div>
  </div>

  <div id="levelup" class="hidden" role="dialog" aria-modal="true" aria-label="Level up">
    <div class="card">
      <h2 id="modalTitle">升級！選 1 個</h2>
      <div id="choices"></div>
      <div class="hint">快捷鍵：1 / 2 / 3</div>
    </div>
  </div>

  <div id="touch" aria-hidden="true">
    <div id="joy" class="joy">
      <div class="joyBase"></div>
      <div class="joyKnob"></div>
    </div>
    <button id="pauseBtn" class="touchBtn" type="button">Pause</button>
  </div>

  <div id="summary" class="hidden" role="dialog" aria-modal="true" aria-label="Run summary">
    <div class="card">
      <h2 id="summaryTitle">Run Complete</h2>
      <div id="summaryScore" class="summaryScore">Score: 0</div>
      <div id="summaryAchievements" class="summaryBlock"></div>
      <div class="summaryGrid">
        <div>
          <div class="summaryHdr">Weapons</div>
          <div id="summaryWeapons" class="summaryList"></div>
        </div>
        <div>
          <div class="summaryHdr">Magic</div>
          <div id="summaryMagic" class="summaryList"></div>
        </div>
        <div>
          <div class="summaryHdr">Passives</div>
          <div id="summaryPassives" class="summaryList"></div>
        </div>
      </div>
      <div class="summaryBtns">
        <button id="restartBtn" class="btn" type="button">Restart</button>
        <button id="shareBtn" class="miniBtn" type="button">Share</button>
      </div>
      <div id="summaryHint" class="hint"></div>
    </div>
  </div>

  <script src="game.js?v=108"></script>
</body>
</html>
